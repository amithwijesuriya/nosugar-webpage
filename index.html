<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>nosugar — Track Added Sugar with One Number</title>
  <meta name="description" content="nosugar keeps you under your daily added sugar limit with a simple ring and 10-second logging." />
  <style>
    :root{
      --bg:#0a0f0a; --fg:#e8f7e8; --muted:#b9d3b9;
      --brand:#36d07f; --brand2:#1bb36d; --card:#101710; --line:#214733;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:radial-gradient(1200px 800px at 70% -10%, #133019 0%, #0a140d 50%, #0a0f0a 100%);color:var(--fg);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    a{color:var(--brand);text-decoration:none} a:hover{text-decoration:underline}
    .wrap{max-width:1120px;margin:0 auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .logo{display:flex;align-items:center;gap:8px;font-weight:700}
    .logo img{width:28px;height:28px}
    .cta{display:inline-block;background:linear-gradient(135deg,var(--brand),var(--brand2));color:#061006;padding:10px 14px;border-radius:999px;font-weight:700;border:none;cursor:pointer;box-shadow:0 8px 24px rgba(54,208,127,.25)}
    .ghost{background:transparent;color:var(--fg);border:1px solid #254a38}
    .hero{display:grid;grid-template-columns:1.02fr .98fr;gap:24px;align-items:center;min-height:70vh;padding-top:10px}
    .h1{font-size:40px;line-height:1.08;margin:0 0 8px}
    .sub{color:var(--muted);font-size:16px;line-height:1.5;margin:0 0 14px}
    .hero-cta{display:flex;gap:10px;flex-wrap:wrap}
    .phone-wrap{position:relative;display:flex;justify-content:center}
    .phone{position:relative;width:320px;max-width:86vw;aspect-ratio:9/19;border-radius:34px;padding:12px;background:linear-gradient(180deg,#0d1710,#0a120c);border:1px solid #1d2a20;box-shadow:inset 0 0 0 2px #0b140e, 0 30px 70px rgba(0,0,0,.4), 0 0 120px rgba(52,194,122,.12)}
    .phone::before{content:"";position:absolute;left:50%;transform:translateX(-50%);top:8px;width:120px;height:16px;background:#09110b;border-radius:9px;box-shadow:0 0 0 1px #112016 inset;}
    .screen{position:relative;margin-top:22px;border-radius:24px;overflow:hidden;height:calc(100% - 32px);background:linear-gradient(180deg,#0e1b12,#0a130d);border:1px solid #173021;}
    .screen img{display:block;width:100%;height:100%;object-fit:cover;object-position:center}
    .fallback{position:absolute;inset:0;display:grid;place-items:center;color:#9dd9ba;font-size:14px;padding:18px;text-align:center}
    /* callouts sit OUTSIDE the screen edges so they don't cover the UI */
    .callouts{position:absolute;inset:0;pointer-events:none}
    .callout{position:absolute;display:flex;align-items:center;gap:8px}
    .callout.right{right:-190px;flex-direction:row-reverse}
    .callout.left{left:-180px}
    .bubble{pointer-events:auto;background:rgba(10,18,12,.95);backdrop-filter:blur(4px);border:1px solid var(--line);padding:8px 10px;border-radius:10px;max-width:180px;font-size:12px;line-height:1.35;box-shadow:0 6px 18px rgba(0,0,0,.35)}
    .badge{display:inline-block;background:#123b27;border:1px solid #1c5a3b;color:#b9f2d0;font-size:11px;padding:2px 6px;border-radius:999px;margin-bottom:4px}
    .arrow{width:80px;height:0} svg line{stroke:#2b7a57;stroke-width:2;stroke-linecap:round}
    section{padding:60px 0;border-top:1px solid #132017}
    h2{font-size:26px;margin:0 0 8px}
    p{color:var(--muted)}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .card{background:#0f1711;border:1px solid #14251a;border-radius:14px;padding:16px}
    footer{padding:40px 0;color:#9bb99b;border-top:1px solid #132017;text-align:center}
    .footer-links{display:flex;gap:14px;flex-wrap:wrap;justify-content:center}
    /* molecules bg */
    .molecules{position:fixed;inset:0;pointer-events:none;z-index:-1}
    .dot{position:absolute;width:6px;height:6px;border-radius:50%;background:radial-gradient(circle at 30% 30%, #fff, #b7ffe0 50%, rgba(54,208,127,.0) 70%);opacity:.22;animation:float 16s linear infinite;}
    .dot:nth-child(odd){animation-duration:20s;opacity:.16}
    @keyframes float{from{transform:translateY(18vh)} to{transform:translateY(-110vh)}}
    /* mobile first adjustments */
    @media (max-width: 960px){ .hero{grid-template-columns:1fr;gap:20px} .h1{font-size:30px} .grid{grid-template-columns:1fr} .callout{transform:scale(.9)} }
    @media (max-width: 420px){ .callout{transform:scale(.85)} .bubble{max-width:160px} }
  </style>
</head>
<body>
  <!-- animated sugar molecules -->
  <div class="molecules" aria-hidden="true">
    <div class="dot" style="left:5%; animation-delay:-2s;"></div>
    <div class="dot" style="left:20%; animation-delay:-6s;"></div>
    <div class="dot" style="left:35%; animation-delay:-10s;"></div>
    <div class="dot" style="left:50%; animation-delay:-4s;"></div>
    <div class="dot" style="left:65%; animation-delay:-8s;"></div>
    <div class="dot" style="left:80%; animation-delay:-12s;"></div>
  </div>

  <div class="wrap">
    <header>
      <div class="logo">
        <img src="logo.png" alt="nosugar logo" onerror="this.style.display='none'">
        <span>nosugar</span>
      </div>
      <div>
        <a class="cta ghost" href="#how" style="margin-right:8px">How it works</a>
        <a class="cta" href="https://testflight.apple.com/join/ySZHTZT7" target="_blank" rel="noopener">Join TestFlight</a>
      </div>
    </header>

    <section class="hero" id="top">
      <div>
        <h1 class="h1">A single number for your added sugar — clear, fast, effective.</h1>
        <p class="sub">Stay under your personal daily limit with an at-a-glance ring and 10-second logging. No macros, no overwhelm.</p>
        <div class="hero-cta">
          <a class="cta" href="https://testflight.apple.com/join/ySZHTZT7" target="_blank" rel="noopener">Get the beta</a>
          <a class="cta ghost" href="#features">Features</a>
        </div>
      </div>

      <div class="phone-wrap">
        <div class="phone" aria-label="App preview">
          <div class="screen">
            <!-- YOUR real app screenshot goes here -->
            <img id="appImage" src="app-ui.png" alt="nosugar app UI">
            <div id="fallback" class="fallback" hidden>
              <div>
                <div style="font-weight:700;margin-bottom:6px;color:#c7f3da">Add <code>app-ui.png</code> to show your live UI</div>
                <div style="opacity:.75">Commit <code>app-ui.png</code> in the repo root (same folder as this file).</div>
              </div>
            </div>

            <!-- callouts positioned OUTSIDE the phone edge -->
            <div class="callouts" aria-hidden="true">
              <div class="callout left"  style="top:12%;">
                <div class="bubble"><div class="badge">Progress ring</div>Today’s added sugar vs. your daily limit — keep it green.</div>
                <svg class="arrow" viewBox="0 0 80 40"><line x1="0" y1="20" x2="80" y2="20"/></svg>
              </div>
              <div class="callout right" style="top:36%;">
                <div class="bubble"><div class="badge">Your daily limit</div>Set during onboarding. You can edit anytime.</div>
                <svg class="arrow" viewBox="0 0 80 40"><line x1="80" y1="20" x2="0"  y2="20"/></svg>
              </div>
              <div class="callout left"  style="bottom:24%;">
                <div class="bubble"><div class="badge">Fast add</div>Type “cereal 1 cup” or tap a result — ~10 seconds.</div>
                <svg class="arrow" viewBox="0 0 80 40"><line x1="0" y1="20" x2="80" y2="20"/></svg>
              </div>
              <div class="callout right" style="bottom:6%;">
                <div class="bubble"><div class="badge">“Burn it off”</div>Walk/bike/run equivalents for context (optional).</div>
                <svg class="arrow" viewBox="0 0 80 40"><line x1="80" y1="20" x2="0"  y2="20"/></svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="features">
      <h2>Features</h2>
      <div class="grid">
        <div class="card"><strong>Single-number focus</strong><br/>Your day is summarized by one number: grams of added sugar.</div>
        <div class="card"><strong>Fast logging</strong><br/>Quick add + Nutritionix search — seconds, not minutes.</div>
        <div class="card"><strong>Personal limit</strong><br/>Daily guidance tailored from onboarding. Change units anytime.</div>
        <div class="card"><strong>Activity context</strong><br/>Optional “burn it off” estimates to build intuition.</div>
        <div class="card"><strong>Export & control</strong><br/>Export CSV anytime. You control your data.</div>
        <div class="card"><strong>Privacy-first</strong><br/>No ads. Minimal collection. Easy deletion.</div>
      </div>
    </section>

    <section id="how">
      <h2>How it works</h2>
      <p>Three steps to stay on track:</p>
      <div class="grid">
        <div class="card"><strong>1) Set up once</strong><br/>We estimate a sensible daily limit for added sugar.</div>
        <div class="card"><strong>2) Log quickly</strong><br/>Add an item in seconds — the ring updates instantly.</div>
        <div class="card"><strong>3) Check the ring</strong><br/>The progress ring keeps you aware. Green = on target.</div>
      </div>
    </section>

    <footer>
      <div style="margin-bottom:10px;"><a class="cta" href="https://testflight.apple.com/join/ySZHTZT7" target="_blank" rel="noopener">Join TestFlight</a></div>
      <div>© 2025 nosugar</div>
      <div class="footer-links" style="margin-top:10px;">
        <a href="#" data-open="privacy">Privacy Policy</a>
        <span>•</span>
        <a href="#" data-open="terms">Terms</a>
        <span>•</span>
        <a href="#" data-open="eula">EULA</a>
        <span>•</span>
        <a href="#" data-open="data">Data &amp; Deletion</a>
        <span>•</span>
        <a href="#" data-open="support">Support</a>
      </div>
    </footer>
  </div>

  <!-- Modals -->
  <dialog class="modal" id="modal-privacy"><div class="modal-card"><span class="close" data-close>✕</span><h3>Privacy Policy</h3><p>We collect minimal data to run the app: account email, items you log, and basic diagnostics. No third-party ads. Processors: Supabase (auth/db), Vercel (hosting).</p><p><strong>Your rights:</strong> Access, export, correct, or delete your data by request.</p><p>Contact: support@nosugarapp.com</p></div></dialog>
  <dialog class="modal" id="modal-terms"><div class="modal-card"><span class="close" data-close>✕</span><h3>Terms</h3><p>nosugar is provided “as is”. You’re responsible for how you use it. Using the app means you agree to these Terms and the Privacy Policy.</p></div></dialog>
  <dialog class="modal" id="modal-eula"><div class="modal-card"><span class="close" data-close>✕</span><h3>EULA</h3><p>License to use nosugar on devices you own or control. No reverse engineering or redistribution. Apple is not responsible for support.</p></div></dialog>
  <dialog class="modal" id="modal-data"><div class="modal-card"><span class="close" data-close>✕</span><h3>Data &amp; Deletion</h3><p><strong>Export:</strong> CSV export in-app (or email support). <strong>Deletion:</strong> Request in-app or via support@nosugarapp.com; backups purge within ~30 days.</p></div></dialog>
  <dialog class="modal" id="modal-support"><div class="modal-card"><span class="close" data-close>✕</span><h3>Support</h3><p>Email <a href="mailto:support@nosugarapp.com">support@nosugarapp.com</a>. Include your account email for account help.</p></div></dialog>

  <style>
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:16px;background:rgba(0,0,0,.55);z-index:50}
    .modal[open]{display:flex}
    .modal-card{max-width:860px;max-height:80vh;overflow:auto;background:#0d1510;border:1px solid #1b2e22;border-radius:12px;padding:18px;box-shadow:0 20px 80px rgba(0,0,0,.5)}
    .modal h3{margin:0 0 6px}
    .close{float:right;cursor:pointer;color:#97c5ad}
  </style>

  <script>
    (function(){
      // show helper if app-ui.png is missing
      const img = document.getElementById('appImage');
      const fb  = document.getElementById('fallback');
      if(img){
        img.addEventListener('error', () => { if(fb) fb.hidden = false; });
        img.addEventListener('load',  () => { if(!img.naturalWidth && fb) fb.hidden = false; });
      }
      // modal wiring
      const map = { privacy:'modal-privacy', terms:'modal-terms', eula:'modal-eula', data:'modal-data', support:'modal-support' };
      document.addEventListener('click', (e) => {
        const t = e.target;
        if(t && t.matches('[data-open]')){ e.preventDefault(); const id = map[t.getAttribute('data-open')]; if(id) document.getElementById(id).setAttribute('open',''); }
        if(t && (t.matches('[data-close]') || (t.closest('.modal') && t.closest('.modal') === e.target))){ (t.closest('.modal')||e.target).removeAttribute('open'); }
      });
    })();
  </script>
</body>
</html>
